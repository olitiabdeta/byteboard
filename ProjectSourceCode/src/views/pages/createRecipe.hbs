<div class="container">
    <h2>Create Recipe</h2>
    <form method="POST" action="/createRecipe" enctype="multipart/form-data">
        <!-- Recipe Name Section -->
        <div class="form-group">
            <label for="recipeName">Recipe Name:</label>
            <input type="text" id="recipeName" name="recipeName" class="form-control" required>
        </div>

         <!-- Description Section -->
        <div class="form-group">
            <label for="description">Description:</label>
            <input type="text" id="description" name="description" class="form-control">
        </div>

        <!-- Prep Time Section -->
        <div class="form-group">
            <label for="prepTime">Prep Time:</label>
            <input type="text" id="prepTime" name="prepTime" class="form-control"  placeholder="Enter time in minutes" required>
        </div>

         <!-- Difficulty Section -->
        <div class="form-group">
             <label for="difficulty">Difficulty:</label>
             <select id="difficulty" name="difficulty" class="form-control" required>
             <option value="" disabled selected>Select difficulty level</option>
             <option value="easy">Easy</option>
             <option value="moderate">Moderate</option>
             <option value="difficult">Difficult</option>
             <option value="very_difficult">Very Difficult</option>
             </select>
        </div>

        <!-- Cook Time Section -->
        <div>
            <label for="cookTime">Cook Time:</label>
            <input type="text" id="cookTime" name="cookTime" class="form-control" placeholder="Enter time in minutes" required>
        </div>

        <!-- Servings Section -->
        <div class="form-group">
            <label for="servings">Servings:</label>
            <input type="text" id="servings" name="servings" class="form-control" required>
        </div>

        <!--<div class="form-group">
            <label for="ingredients">Ingredients:</label>
            <input type="text" id="ingredients" name="ingredients" class="form-control" required>
        </div> -->
         <!-- Ingredient Section -->
        <div class="form-group">
            <label>Ingredients:</label>
            <div id="ingredients-container">
                <!-- Ingredient Row -->
                <div class="ingredient-row d-flex align-items-center mb-2">
                    <input type="text" name="amount[]" class="form-control me-2" placeholder="Amount (e.g., 2)">
                    <select name="unit[]" class="form-control me-2">
                        <option value="">Unit</option>
                        <option value="cup">Cup</option>
                        <option value="tbsp">Tbsp</option>
                        <option value="tsp">Tsp</option>
                        <option value="g">Grams</option>
                        <option value="kg">Kilograms</option>
                        <option value="ml">Milliliters</option>
                        <option value="l">Liters</option>
                        <option value="oz">Ounces</option>
                        <option value="lb">Pounds</option>
                        <option value="pinch">Pinch</option>
                    </select>
                    <input type="text" name="ingredient[]" class="form-control me-2" placeholder="Ingredient (e.g., Sugar)">
                    <button type="button" class="btn btn-danger btn-sm remove-ingredient">Remove</button>
                </div>
            </div>
            <button type="button" id="add-ingredient" class="btn btn-secondary mt-2">Add Ingredient</button>
        </div>
        <!--<div class="form-group">
            <label for="instructions">Instructions:</label>
            <textarea id="instructions" name="instructions" class="form-control" required></textarea>
        </div> -->

        <!-- Instructions Section -->
        <div class="form-group">
            <label>Instructions:</label>
            <div id="instructions-container">
                <!-- Instruction Row -->
                <div class="instruction-row d-flex align-items-center mb-2">
                    <input type="text" name="instructions[]" class="form-control me-2" placeholder="Enter instruction"></input>
                    <button type="button" class="btn btn-danger btn-sm remove-instruction">Remove</button>
                </div>
            </div>
            <button type="button" id="add-instruction" class="btn btn-secondary mt-2">Add Instruction</button>
        </div>

        <!-- Image(s) Section -->
        <div class="form-group">
            <label for="recipe_image">Upload Recipe Image(s):</label>
            <input type="file" id="recipe_image" name="recipe_image" accept="image/*" multiple>
        </div>
        <!-- Notes Section -->
        <div class="form-group">
            <label for="notes">Notes: (optional)</label>
            <textarea id="notes" name="notes" class="form-control"></textarea>
        </div>

        
    <button type="submit" class="btn btn-primary">Create Recipe</button>
</form>
</div>

<style>
    /* Add gradient animation to the background */
    body {
        background: linear-gradient(45deg,  #FFB84D, #FF6F61, #FFD700);
        background-size: 400% 400%;
        animation: gradientBackground 10s ease infinite;
        min-height: 100vh;
        margin: 0;
    }

    /* Keyframes for background gradient animation */
    @keyframes gradientBackground {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    /* Styling for the page container */
    .container {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        max-width: 800px;
        margin: 50px auto;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
    }

    h2 {
        color: #4a4a4a;
        font-size: 28px;
        font-weight: 600;
        margin-bottom: 20px;
    }

    h5 {
        color: #555;
        font-size: 16px;
        font-weight: 400;
        margin-bottom: 30px;
    }

    .alert {
        margin-bottom: 20px;
        padding: 15px;
        border-radius: 5px;
        font-size: 14px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    label {
        font-size: 14px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
        display: block;
    }

    input[type="text"], input[type="file"], select, .form-check-label {
        font-size: 14px;
        padding: 10px;
        width: 100%;
        border-radius: 5px;
        border: 1px solid #ddd;
        margin-top: 8px;
    }

    .form-check-label {
        font-size: 14px;
        color: #333;
    }

    button[type="submit"] {
        background-color: #FF6F61;
        color: white;
        padding: 12px 30px;
        font-size: 16px;
        border-radius: 30px;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button[type="submit"]:hover {
        background-color: #FF6F61;
    }
    .ingredient-row {
        display: flex;
        gap: 10px;
    }

    .ingredient-row input, .ingredient-row select {
        flex: 1;
    }

    #add-ingredient {
        background-color: #FF6F61;
        color: white;
    }

    #add-instruction {
        background-color: #FF6F61;
        color: white;
    }

    .btn-danger {
        background-color: #dc3545;
        border: none;
    }

    .btn-danger:hover {
        background-color: #c82333;
    }
</style>

<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/ProjectSourceCode/src/resources/js/selectize.min.js"></script>-->
<script>
    // Initialize Selectize on the newly added select elements
    document.getElementById('add-ingredient').addEventListener('click', function () 
    {
        const container = document.getElementById('ingredients-container');
        const newRow = document.createElement('div');
        newRow.classList.add('ingredient-row', 'd-flex', 'align-items-center', 'mb-2');
        newRow.innerHTML = `
            <input type="text" name="amount[]" class="form-control me-2" placeholder="Amount (e.g., 2)">
            <select name="unit[]" class="form-control me-2">
                <option value="">Unit</option>
                <option value="cup">Cup</option>
                <option value="tbsp">Tbsp</option>
                <option value="tsp">Tsp</option>
                <option value="g">Grams</option>
                <option value="kg">Kilograms</option>
                <option value="ml">Milliliters</option>
                <option value="l">Liters</option>
                <option value="oz">Ounces</option>
                <option value="lb">Pounds</option>
            </select>
            <input type="text" name="ingredient[]" class="form-control me-2" placeholder="Ingredient (e.g., Sugar)">
            <button type="button" class="btn btn-danger btn-sm remove-ingredient">Remove</button>
        `;
        container.appendChild(newRow);

        // Re-initialize Selectize on the new select element
       //$(newRow.querySelector('select')).selectize();
    });

    document.getElementById('ingredients-container').addEventListener('click', function (e)
    {
        if (e.target && e.target.classList.contains('remove-ingredient')) 
        {
            e.target.parentElement.remove();
        }
    });

    // JavaScript for dynamic instruction fields
    document.getElementById('add-instruction').addEventListener('click', function () 
    {
        const container = document.getElementById('instructions-container');
        const newRow = document.createElement('div');
        newRow.classList.add('instruction-row', 'd-flex', 'align-items-center', 'mb-2');
        newRow.innerHTML = `
            <input type="text" name="instructions[]" class="form-control me-2" placeholder="Enter instruction"></input>
            <button type="button" class="btn btn-danger btn-sm remove-instruction">Remove</button>
        `;
        container.appendChild(newRow);
    });

    document.getElementById('instructions-container').addEventListener('click', function (e) 
    {
        if (e.target && e.target.classList.contains('remove-instruction'))
        {
            e.target.parentElement.remove();
        }
    });
</script>